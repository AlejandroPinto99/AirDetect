(()=>{var e=L.map("map").setView([13.65,-89.17],9),o=(L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:' | Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution">CARTO</a>'}).addTo(e),L.control()),a="";o.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div};var t,n,r=function(e){var o=a.split(" "),t=o.length-1;return console.log(o),e["".concat(o[2],"_").concat(o[t])]};function l(e){var o,a=e.properties;return{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:(o=r(a),console.log(o),o>=150?"#be21cc":o>=100?"#941f04":o>=50?"#e0570d":o>=20?"#dade0b":o>=0?"#0d99a3":"#FFEDA0")}}function i(e){var a=e.target;a.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||a.bringToFront(),o.update(a.feature.properties)}function c(e){t.resetStyle(e.target),o.update()}function s(o){e.fitBounds(o.target.getBounds())}function d(e,o){o.on({mouseover:i,mouseout:c,click:s})}o.update=function(e){var o=e&&r(e);this._div.innerHTML="<h4>".concat(a,"</h4>")+(e?"<b>"+e.name+"</b><br />"+o+" Î¼g / m<sup>3</sup>":"Coloque el cursor sobre el Departamento")},o.addTo(e),t=L.geoJson(departamentos,{style:l,onEachFeature:d}).addTo(e),e.on("baselayerchange",(function(e){var o=e.layer;a=document.querySelector("input[class=leaflet-control-layers-selector]:checked + span").innerHTML.trim(),o.setStyle(l)})),n=L.geoJson(departamentos,{style:l,onEachFeature:d});for(var p=[],u=2018;u<=2022;u++)p.push({label:"".concat(u),collapsed:!0,children:[{label:"Nivel de Ozono ".concat(u),layer:n},{label:"Nivel de Particula Fina ".concat(u),layer:n},{label:"Nivel de Materia Particulada ".concat(u),layer:n},{label:"Nivel de Monoxido de Carbono ".concat(u),layer:n}]});L.control.layers.tree(p).addTo(e),o.addTo(e),e.attributionControl.addAttribution("ACA-SIG Project - Group 7");var h=L.control({position:"bottomleft"});h.onAdd=function(e){for(var o,a,t=L.DomUtil.create("div","info legend"),n=[0,20,50,100,150,250],r=["<h3><strong>Rangos</Strong></h3><br>"],l=["#0d99a3","#dade0b","#e0570d","#941f04","#be21cc","#3d0342"],i=0;i<n.length-1;i++)o=n[i],a=n[i+1],r.push('<i class="material-icons icon" style="font-size:25px;color:'.concat(l[i],';text-shadow:2px 2px 4px #000000;">cloud</i>')+"<p> "+o+(a?" &ndash; "+a:"+")+"</p>  <br> ");return t.innerHTML=r.join(""),t},h.addTo(e);var b=L.control({position:"bottomright"});b.onAdd=function(e){var o=L.DomUtil.create("div","info legend_scale"),a=["<h3><strong>Escala de Calidad de Aire</Strong></h3><br>"];return a.push("<span> Excelente</span> <span> Buena</span> <span> Mala</span> <span> Poco Saludable</span> <span> Muy Poco Saludable</span> <span> Peligrosa</span>"),o.innerHTML=a.join("<br>"),o},b.addTo(e)})();